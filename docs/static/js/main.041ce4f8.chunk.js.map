{"version":3,"sources":["components/Input/Input.js","components/FormChild/FormChild.js","store/slices/user.js","utils/errors.js","views/Main/Main.js","views/Info/Info.js","assets/logo.svg","components/Header/Header.js","components/Footer/Footer.js","reportWebVitals.js","store/index.js","index.js"],"names":["Input","props","className","String","value","length","type","onChange","e","isNumber","target","replace","setValue","label","FormChild","child","name","setName","age","setAge","Number","onClick","preventDefault","remove","userSlice","createSlice","initialState","children","reducers","set","state","action","payload","actions","hasError","method","message","result","alert","Main","user","useSelector","dispatch","useDispatch","navigate","useNavigate","useState","setChildren","updateChildInfo","index","field","temp_children","disabled","push","map","_","splice","removeChild","name_invalid","age_invalid","children_invalid","some","Graph","wordByNum","words","temp_value","Math","abs","num","Children","Header","is_home_active","setIsHomeActive","is_show_active","setIsShowActive","useEffect","window","location","pathname","goTo","path","src","Logo","alt","href","Footer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","userReducer","ReactDOM","render","StrictMode","exact","element","document","getElementById"],"mappings":"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","file":"static/js/main.041ce4f8.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Input.css\";\r\n\r\nfunction Input(props) {\r\n  const changeAction = (e) => {\r\n    if (props.isNumber) {\r\n      e.target.value = e.target.value\r\n        .replace(/[^0-9]/g, \"\")\r\n        .replace(/(\\..*)\\./g, \"$1\");\r\n    }\r\n    props.setValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form__input\">\r\n      <input\r\n        className={String(props.value).length > 0 ? \"entered\" : \"\"}\r\n        type={props.type}\r\n        value={props.value}\r\n        onChange={changeAction}\r\n      />\r\n      <label>{props.label}</label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport \"./FormChild.css\";\r\n\r\nimport Input from \"../Input/Input\";\r\n\r\nfunction FormChild(props) {\r\n    const removeAction = e => {\r\n        e.preventDefault();\r\n        props.remove();\r\n    }\r\n\r\n  return (\r\n    <div className=\"child__block\">\r\n      <Input label=\"Имя\" type=\"text\" value={props.child.name} setValue={props.setName}/>\r\n      <Input label=\"Возраст\" type=\"text\" value={props.child.age} isNumber={true} setValue={value => props.setAge(Number(value))} />\r\n      <button onClick={removeAction}>Удалить</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormChild;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState: {\r\n    value: {\r\n      name: '',\r\n      age: 0,\r\n      children: []\r\n    },\r\n  },\r\n  reducers: {\r\n    set: (state, action) => {\r\n      state.value = {...action.payload};\r\n    }\r\n  },\r\n});\r\n\r\nexport const { set } = userSlice.actions;\r\nexport default userSlice.reducer;\r\n","export const hasError = (value, method, message) => {\r\n    const result = method(value);\r\n\r\n    result && alert(message);\r\n    return result;\r\n}","import React, { useState } from \"react\";\r\nimport \"./Main.css\";\r\n\r\nimport Input from \"../../components/Input/Input\";\r\nimport FormChild from \"../../components/FormChild/FormChild\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { set } from \"../../store/slices/user\";\r\n\r\nimport { hasError } from \"../../utils/errors\";\r\n\r\nfunction Main() {\r\n  const user = useSelector((state) => state.user.value);\r\n  const dispatch = useDispatch();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [name, setName] = useState(user.name);\r\n  const [age, setAge] = useState(user.age);\r\n  const [children, setChildren] = useState(user.children);\r\n\r\n  const addChild = (e) => {\r\n    e.preventDefault();\r\n\r\n    const temp_children = [...children];\r\n    temp_children.push({ name: \"\", age: 0 });\r\n\r\n    setChildren(temp_children);\r\n  };\r\n  const updateChildInfo = (index, value, field) => {\r\n    const temp_children = [...children];\r\n\r\n    temp_children[index][field] = value;\r\n    setChildren(temp_children);\r\n  };\r\n  const removeChild = (index) => {\r\n    const temp_children = [...children];\r\n\r\n    temp_children.splice(index, 1);\r\n    setChildren(temp_children);\r\n  };\r\n\r\n  const saveInfo = (e) => {\r\n    e.preventDefault();\r\n\r\n    const name_invalid = hasError(\r\n      name,\r\n      (e) => e.length === 0,\r\n      \"Имя пользователя не указано.\"\r\n    );\r\n    const age_invalid = hasError(age, (e) => e <= 0, \"Возраст указан неверно.\");\r\n    const children_invalid = hasError(\r\n      children,\r\n      (e) => e.some((child) => child.name.length === 0 || child.age <= 0),\r\n      \"Информация о детях указана неверно\"\r\n    );\r\n\r\n    if (name_invalid || age_invalid || children_invalid) return;\r\n\r\n    dispatch(\r\n      set({\r\n        name,\r\n        age,\r\n        children,\r\n      })\r\n    );\r\n\r\n    alert(\"Информация сохранена!\");\r\n    navigate('/show', { replace: true });\r\n  };\r\n\r\n  return (\r\n    <main className=\"main__page\">\r\n      <form className=\"user__form\">\r\n        <div className=\"form__header\">\r\n          <h2>Персональные данные </h2>\r\n        </div>\r\n        <Input label=\"Имя\" type=\"text\" value={name} setValue={setName} />\r\n        <Input label=\"Возраст\" type=\"text\" isNumber={true} value={age} setValue={value => setAge(Number(value))} />\r\n      </form>\r\n      <form className=\"children__form\">\r\n        <div className=\"form__header\">\r\n          <h2>Дети (макс. 5)</h2>\r\n\r\n          <button\r\n            disabled={children.length === 5 ? \"disabled\" : \"\"}\r\n            className=\"add-btn\"\r\n            onClick={addChild}\r\n          >\r\n            Добавить ребенка\r\n          </button>\r\n        </div>\r\n\r\n        {children.map((_, index) => {\r\n          return (\r\n            <FormChild\r\n              child={children[index]}\r\n              setName={(value) => updateChildInfo(index, value, \"name\")}\r\n              setAge={(value) => updateChildInfo(index, value, \"age\")}\r\n              remove={() => removeChild(index)}\r\n              key={index}\r\n            />\r\n          );\r\n        })}\r\n\r\n        <button className=\"save-btn\" onClick={saveInfo}>\r\n          Сохранить\r\n        </button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./Info.css\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction Graph() {\r\n  const wordByNum = (value, words) => {\r\n    const temp_value = Math.abs(value) % 100;\r\n    const num = temp_value % 10;\r\n\r\n    if (temp_value > 10 && temp_value < 20) return words[2];\r\n    if (num > 1 && num < 5) return words[1];\r\n    if (num === 1) return words[0];\r\n    return words[2];\r\n  };\r\n\r\n  const user = useSelector((state) => state.user.value);\r\n\r\n  const Children =\r\n    user.children.length > 0 ? (\r\n      <div className=\"info__block\">\r\n        <h2>Дети</h2>\r\n        <div className=\"child__list\">\r\n          {user.children.map((child) => (\r\n            <div className=\"child__list__item\">\r\n              <span>{child.name}</span>\r\n              {child.age ? (\r\n                <span>\r\n                  , {child.age} {wordByNum(child.age, [\"год\", \"года\", \"лет\"])}\r\n                </span>\r\n              ) : (\r\n                <span></span>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div></div>\r\n    );\r\n\r\n  return (\r\n    <main className=\"info__page\">\r\n      <div className=\"info__block\">\r\n        <h2>Персональные данные</h2>\r\n        {user.name ? (\r\n          <div className=\"user__info\">\r\n            <span>{user.name}</span>\r\n            {user.age ? (\r\n              <span>\r\n                , {user.age} {wordByNum(user.age, [\"год\", \"года\", \"лет\"])}\r\n              </span>\r\n            ) : (\r\n              <span></span>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"user__info\">Нет данных</div>\r\n        )}\r\n      </div>\r\n\r\n      {Children}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Graph;\r\n","export default __webpack_public_path__ + \"static/media/logo.bba01bd9.svg\";","import React, { useState, useEffect } from \"react\";\r\nimport \"./Header.css\";\r\nimport Logo from \"../../assets/logo.svg\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  const [is_home_active, setIsHomeActive] = useState(\"\");\r\n  const [is_show_active, setIsShowActive] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setIsHomeActive(window.location.pathname === \"/\");\r\n    setIsShowActive(window.location.pathname === \"/show\");\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const goTo = (e, path) => {\r\n    e.preventDefault();\r\n\r\n    navigate(path, { replace: true });\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"logo\">\r\n        <img src={Logo} alt=\"Alef\" />\r\n      </div>\r\n      <nav>\r\n        <a\r\n          href=\"/\"\r\n          onClick={(e) => goTo(e, \"/\")}\r\n          className={is_home_active ? \"active\" : \"\"}\r\n        >\r\n          Форма\r\n        </a>\r\n        <a\r\n          href=\"/show\"\r\n          onClick={(e) => goTo(e, \"/show\")}\r\n          className={is_show_active ? \"active\" : \"\"}\r\n        >\r\n          Превью\r\n        </a>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer>\r\n      <p>all rights reserved</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport userReducer from './slices/user'\r\n\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n      user: userReducer\r\n  }\r\n})","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Main from \"./views/Main/Main\";\nimport Info from \"./views/Info/Info\";\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { HashRouter, Routes, Route } from \"react-router-dom\";\nimport { store } from \"./store/index\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <HashRouter>\n        <Header />\n        <Routes>\n          <Route path=\"/\" exact element={<Main />} />\n          <Route path=\"/show\" exact element={<Info />} />\n        </Routes>\n        <Footer />\n      </HashRouter>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}